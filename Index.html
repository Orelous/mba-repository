
Howard EMBA
/
I'd like to continue the last conversation about the mba repository

Sep 28, 2025

Relevant chats
3 results




I can see you want to continue our previous conversation about the MBA repository. Based on the search results, I can see we were working on fixing two main issues:

Submit button styling issue with type="submit" class="
Edit functionality that should open an edit form when clicking edit for lesson L001
Looking at the HTML file you've shared, I can help resolve both issues. The main problems appear to be:

For the Submit Button:

Missing class name completion in the submit button
Potential styling conflicts
For the Edit Functionality:

Need to implement proper edit modal/form functionality
Edit buttons need to populate the form with existing lesson data
Would you like me to:

Fix the submit button styling issue first
Implement the complete edit functionality
Or address both issues together in an updated version?
Also, I can see from our previous conversation that you have a working 4-tab interface with Dashboard, Search & Review, Add Lesson, and Manage & Export tabs. Should I build on that version or work with the single-form version you've shared here?


<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>MBA Knowledge Repository - Simple Setup</title> <style> * { margin: 0; padding: 0; box-sizing: bord

pasted

This is from the chat

Sep 28, 2025
I can see you've shared a completely different approach - a Google Forms + Google Sheets setup guide instead of the standalone HTML interface we were working on. This is actually a smart pivot to a simpler, more reliable solution!

Looking at our previous conversation about the HTML interface issues:

The Problems You Were Facing:

Submit button styling issues (type="submit" class=" incomplete)
Edit functionality not working properly
Cross-device sync challenges
Technical complexity
Your New Solution Benefits:

Zero technical issues - No more broken submit buttons or JavaScript errors
Perfect cross-device sync - Google handles everything automatically
Mobile optimized - Google Forms work flawlessly on phones/tablets
Built-in search - Google Sheets has powerful filtering capabilities
Automatic backup - Data is safe in Google Drive
Quick Implementation:

Create the Google Sheet with the columns you specified
Build the Google Form with all your MBA lesson fields
Connect them so form submissions go directly to the sheet
Bookmark both links on all your devices
This approach eliminates all the technical headaches you were experiencing with the standalone HTML interface while giving you a more robust, reliable system.

Would you like me to:

Help you set up the Google Form with the exact field structure from your HTML interface?
Create a sample course list for the form dropdown?
Design a Google Sheets template with formulas for automatic stats calculations?
Go back to fixing the HTML interface if you prefer that approach?
The Google approach is definitely more practical for your "Good Enough" philosophy - less time fighting technical issues, more time building your knowledge repository!


mba-repository.json
1,937 lines

json

This is from the json backup

Sep 28, 2025
Looking at your JSON backup, you have an impressive collection of 98 MBA repository entries covering all the key areas from your Organizational Behavior and Leadership course. The entries demonstrate solid implementation of your "Good Enough" philosophy - practical, consulting-focused insights with clear application scenarios and limitations.

Key Observations from Your Repository:

Strong Coverage Areas:

Leadership theories and frameworks (L064-L086)
Motivation and performance management (L075-L098)
Historical management foundations (L006-L013)
Ethics and decision-making frameworks (L014-L020)
Global management considerations (L022-L028)
Content Quality Patterns:

Your Claude summaries are concise and actionable
Key insights include specific statistics and real company examples
Client scenarios are well-defined and practical
Limitations sections show critical thinking about framework boundaries
Repository Strengths:

Consistent 300-character summary constraint
Mix of consulting relevance ratings (mostly 3-5, appropriate for your focus)
Good balance of tactical frameworks and strategic concepts
Recent additions show evolution toward more nuanced analysis
Areas for Enhancement:

Some entries could benefit from more specific "when NOT to use" guidance
Cross-course connections could be more detailed for knowledge integration
A few older entries have less sophisticated limitation analysis
Next Steps Options:

Continue building content in underrepresented areas (finance, operations, marketing strategy)
Enhance existing entries with deeper cross-connections and application notes
Create study guides organized by consulting situation types
Develop search/filtering capabilities for quick reference during client work
Which direction interests you most for continuing the repository development?


<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>MBA Knowledge Repository</title> <style> * { margin: 0; padding: 0; box-sizing: border-box;

pasted

This is the MBA repository that I've been using, but after downloading the HTML onto my One Cloud, I can only access the entries I'm creating, which I'm entering from my computer, on my computer. I need to be able to access the repository from my mobile devices (i.e., iPhone and iPad), also

Sep 28, 2025
The issue is that your HTML repository stores data in localStorage, which is specific to each device's browser. Data saved on your computer won't sync to your iPhone or iPad automatically.

You have three solutions to fix this cross-device access problem:

Solution 1: Google Forms + Sheets (Recommended)
This is exactly what the setup guide document you shared earlier describes. It's the most reliable approach:

Benefits:

Works perfectly on all devices (computer, iPhone, iPad)
Automatic syncing across devices
No technical issues or file management
Built-in search and filtering in Google Sheets
Accessible from any browser
Setup:

Create Google Sheet with your repository structure
Create Google Form linked to the sheet
Bookmark both on all devices
Import your existing 98 entries via CSV upload
Solution 2: Cloud Storage + Manual Sync
Keep using your HTML file but store it in cloud storage:

Process:

Save HTML file to Google Drive, OneDrive, or iCloud
Export JSON backup from computer version
Open HTML file on mobile device from cloud storage
Import the JSON backup to sync data
Repeat whenever you add entries from different devices
Limitations:

Manual sync required after each session
Risk of data conflicts if you forget to sync
Mobile browser limitations may affect functionality
Solution 3: Simple Web Hosting
Upload your HTML file to a simple hosting service:

Options:

GitHub Pages (free)
Netlify (free tier)
Firebase Hosting (free tier)
Benefits:

Same URL works on all devices
Data still stored locally per device
No sync issues within same device
Limitations:

Still requires manual export/import for cross-device sync
My Recommendation
Use the Google Forms + Sheets approach. Based on your existing 98 high-quality entries, you've already proven the repository concept works. The Google approach will eliminate all technical friction and give you seamless mobile access.

Would you like me to help you:

Set up the Google Forms structure to match your current fields?
Create a CSV template for importing your existing entries?
Or modify your HTML to use cloud storage instead?
The Google approach aligns perfectly with your "Good Enough" philosophy - less time fighting technology, more time building knowledge.

The issue I have with the Google Sheets option is that I prefer the style and feel of the HTML repository. Google sheets to search each item isn't as wow

Sep 28, 2025
You're right - the HTML interface you've built has a much better user experience than Google Sheets. The visual design, search functionality, and modal views are significantly more polished and intuitive for browsing your knowledge repository.

Here are two solutions that preserve your HTML interface while enabling cross-device access:

Solution 1: GitHub Pages + Manual Sync (Best Compromise)
Setup:

Create free GitHub account
Upload your HTML file to a new repository
Enable GitHub Pages (gives you a permanent URL)
Access same URL from all devices: https://yourusername.github.io/mba-repository
Cross-device workflow:

Use normally on any device
When switching devices, export JSON backup and import on new device
Takes 30 seconds to sync
Benefits:

Keeps your beautiful interface
Works on all devices
Free and reliable
Data backed up in GitHub
Solution 2: Progressive Web App (PWA) Enhancement
I can modify your HTML to work as a PWA that:

Installs like an app on iPhone/iPad
Looks and feels like a native app
Includes export/import sync buttons prominently
Automatically prompts to import when data is missing
Would involve:

Adding service worker for offline capability
Making it installable on mobile home screens
Enhanced mobile responsive design
Quick sync workflow built into the UI
Quick Test Option
Upload your current HTML file to any free hosting service (like Netlify - just drag and drop) to get a URL you can test on mobile devices. This takes 2 minutes and lets you see how well your interface works on mobile before committing to a solution.

Which direction interests you? The GitHub Pages approach would give you the cross-device access immediately while preserving everything you like about the current interface.

I'll use solution 1 but is it private or can other see it?

Sep 28, 2025
By default, GitHub repositories and GitHub Pages are public - anyone can see your code and access your website. However, you have privacy options:

Privacy Options:
Option 1: Private Repository (Recommended)

Make the GitHub repository private (free for personal accounts)
Enable GitHub Pages on the private repo
Your website will still be publicly accessible via the URL, but the source code is hidden
Others can't see your repository structure or download your HTML file
They can only access the live website
Option 2: Completely Private (GitHub Pro)

Requires paid GitHub Pro account ($4/month)
Both repository and GitHub Pages site can be completely private
Only you can access the website
Requires GitHub login to view
Option 3: Alternative Private Hosting Free private options:

Netlify: Upload your HTML file, get private URL, can password protect
Vercel: Similar to Netlify, free tier includes password protection
Firebase Hosting: Google's service, can restrict access
For Your MBA Repository:
Since this contains your personal study notes and insights, I'd recommend:

Private GitHub repository with public GitHub Pages
Your code/content stays private
Website accessible only to you via the URL (which you don't share)
Functionally private since the URL is obscure
Or use Netlify with password protection
Drag and drop your HTML file
Set a password for access
Works perfectly on mobile
Which privacy level do you need? Just keeping the URL private, or do you want password protection too?

Let's try option #1. Tell me what do

Sep 28, 2025
Here's exactly what to do for GitHub Pages setup:

Step 1: Create GitHub Account
Go to github.com
Sign up for free account
Verify your email
Step 2: Create Repository
Click green "New" button (or plus icon → "New repository")
Repository name: mba-repository (or whatever you prefer)
Important: Set to "Private"
Check "Add a README file"
Click "Create repository"
Step 3: Upload Your HTML File
In your new repository, click "Add file" → "Upload files"
Drag your HTML file into the upload area
Important: Rename it to index.html (required for GitHub Pages)
Scroll down, add commit message like "Add MBA repository"
Click "Commit changes"
Step 4: Enable GitHub Pages
In your repository, click "Settings" tab
Scroll down to "Pages" in left sidebar
Under "Source", select "Deploy from a branch"
Choose "main" branch and "/ (root)" folder
Click "Save"
Step 5: Get Your URL
After a few minutes, GitHub will show your site URL in the Pages settings
It will be: https://yourusername.github.io/mba-repository
Bookmark this URL on all your devices
Step 6: Test and Sync
Open the URL on your computer - should show your repository
Export your current data as JSON backup
Open same URL on iPhone/iPad
Import the JSON to sync your data
Your repository code stays private, but the website is accessible via the URL. Since you won't share the URL publicly, it's functionally private.

Ready to start with Step 1?

I see pages but done source or deploy from a branch but do see where it says branch

Sep 28, 2025
GitHub has updated their interface. Here's what to look for in the current Pages settings:

Updated GitHub Pages Setup:
In your repository, go to Settings → Pages
Look for "Build and deployment" section
Under "Source" you should see:
"GitHub Actions" (recommended)
"Deploy from a branch" (classic)
Select "Deploy from a branch"
Then you'll see:
Branch dropdown: Select "main" (or "master")
Folder dropdown: Select "/ (root)"
Click "Save"
If you're not seeing these exact options, can you tell me what you do see under the "Source" section? Sometimes GitHub shows different options based on your repository setup.

Alternatively, if you see "GitHub Actions" as the only option:

Select "GitHub Actions"
Look for "Static HTML" or "Simple workflow"
Click "Configure" on the Static HTML option
The key is getting GitHub to serve your index.html file. Once that's set up, you'll get a URL like https://yourusername.github.io/mba-repository that works on all your devices.

What specific options are you seeing in the Pages settings?

I'm not seeing this. I want to ask ChatGPT also to troubleshoot. Provide a prompt that I can use in ChatGPT that will help us get to the same goal

Sep 29, 2025
Here's a prompt you can use with ChatGPT:

ChatGPT Prompt:

I'm setting up GitHub Pages to host a standalone HTML file (an MBA knowledge repository) so I can access it from multiple devices (computer, iPhone, iPad). The HTML file uses localStorage to store data.

What I've done so far:

Created a private GitHub repository called "mba-repository"
Uploaded my HTML file and renamed it to index.html
Went to Settings → Pages
The problem: I'm not seeing the "Deploy from a branch" option or clear "Source" dropdown that tutorials mention. The GitHub Pages interface seems different from what guides describe.

What I need: Step-by-step instructions for the current GitHub Pages interface to:

Enable GitHub Pages on my private repository
Get a public URL like https://username.github.io/mba-repository
Make the site accessible while keeping the repository private
Additional context:

The HTML file is completely standalone (no dependencies)
It stores data in localStorage (browser-based storage)
I understand I'll need to manually sync data between devices using JSON export/import
I want the repository code to stay private, but the website URL can be public (just won't share it)
Can you provide current GitHub Pages setup instructions based on what the interface actually looks like today?

This gives ChatGPT the full context and should get you specific troubleshooting steps for whatever interface you're seeing. Once you get it working, come back and let me know so we can test the cross-device access!




index.html
1,556 lines

html


I'm using this repository



Claude is AI and can make mistakes. Please double-check responses.







index.html
56.84 KB •1,556 lines
•
Formatting may be inconsistent from source

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBA Knowledge Repository</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e1e8ed;
        }

        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .nav-tab:hover {
            background: #e9ecef;
            color: #2c3e50;
        }

        .nav-tab.active {
            color: #3498db;
            background: white;
            border-bottom-color: #3498db;
        }

        .tab-content {
            display: none;
            padding: 40px;
            min-height: 600px;
        }

        .tab-content.active {
            display: block;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            color: #3498db;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 1.1em;
            font-weight: 600;
        }

        .recent-activity {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
        }

        .activity-item {
            padding: 15px;
            border-left: 4px solid #3498db;
            background: white;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .activity-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .activity-meta {
            font-size: 0.9em;
            color: #7f8c8d;
        }

        .search-controls {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 15px;
            margin-bottom: 25px;
            align-items: end;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 16px;
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .filter-tag {
            padding: 8px 16px;
            background: #e9ecef;
            border: 2px solid transparent;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .filter-tag.active {
            background: #3498db;
            color: white;
        }

        .lesson-card {
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .lesson-card:hover {
            border-color: #3498db;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.1);
        }

        .lesson-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .lesson-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .lesson-meta {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-bottom: 15px;
        }

        .lesson-rating {
            display: flex;
            gap: 2px;
            margin-left: auto;
        }

        .star {
            color: #f39c12;
            font-size: 1.2em;
        }

        .lesson-summary {
            color: #2c3e50;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .lesson-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .lesson-tag {
            background: #ecf0f1;
            color: #7f8c8d;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
        }

        .lesson-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            border-top: 1px solid #e1e8ed;
            padding-top: 15px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 20px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.5em;
            font-weight: 600;
            margin: 0;
        }

        .close {
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
            background: none;
            border: none;
            color: white;
        }

        .close:hover {
            opacity: 0.7;
        }

        .modal-body {
            padding: 30px;
        }

        .detail-section {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e1e8ed;
        }

        .detail-section:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .detail-content {
            color: #34495e;
            line-height: 1.6;
        }

        .detail-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            padding: 20px 30px;
            border-top: 1px solid #e1e8ed;
            background: #f8f9fa;
        }

        .form-section {
            margin-bottom: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #3498db;
        }

        .form-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.2em;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .required {
            color: #e74c3c;
        }

        .tags-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
            margin-top: 10px;
        }

        .tag-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tag-item:hover {
            border-color: #3498db;
            background: #f8f9fa;
        }

        .tag-item input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
            transform: scale(1.2);
        }

        .char-counter {
            text-align: right;
            font-size: 12px;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .rating-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .rating-option {
            text-align: center;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .rating-option:hover {
            border-color: #3498db;
            background: #f8f9fa;
        }

        .rating-option.selected {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .rating-option input[type="radio"] {
            display: none;
        }

        .export-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .export-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .export-card {
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .export-card:hover {
            border-color: #3498db;
            background: #f8f9fa;
        }

        .export-icon {
            font-size: 2.5em;
            color: #3498db;
            margin-bottom: 10px;
        }

        .export-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .export-desc {
            font-size: 0.9em;
            color: #7f8c8d;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .btn-secondary {
            background: #ecf0f1;
            color: #2c3e50;
        }

        .btn-secondary:hover {
            background: #d5dbdb;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 13px;
            border-radius: 6px;
        }

        .btn-view {
            background: #3498db;
            color: white;
        }

        .btn-view:hover {
            background: #2980b9;
            transform: translateY(-1px);
        }

        .btn-edit {
            background: #f39c12;
            color: white;
        }

        .btn-edit:hover {
            background: #e67e22;
            transform: translateY(-1px);
        }

        .btn-delete {
            background: #e74c3c;
            color: white;
        }

        .btn-delete:hover {
            background: #c0392b;
            transform: translateY(-1px);
        }

        .submit-section {
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid #e1e8ed;
            margin-top: 30px;
        }

        .status-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 12px;
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .search-controls {
                grid-template-columns: 1fr;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>MBA Knowledge Repository</h1>
            <p>Good Enough Learning System for Consulting Excellence</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="dashboard">Dashboard</button>
            <button class="nav-tab" data-tab="search">Search & Review</button>
            <button class="nav-tab" data-tab="add">Add Lesson</button>
            <button class="nav-tab" data-tab="manage">Manage & Export</button>
        </div>

        <div class="tab-content active" id="dashboard">
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalLessons">0</div>
                    <div class="stat-label">Total Lessons</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="thisWeek">0</div>
                    <div class="stat-label">Added This Week</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgRating">0</div>
                    <div class="stat-label">Avg Consulting Rating</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeCourses">0</div>
                    <div class="stat-label">Active Courses</div>
                </div>
            </div>

            <div class="recent-activity">
                <h3>Recent Activity</h3>
                <div id="recentActivityList">
                    <p style="text-align: center; color: #7f8c8d; padding: 20px;">No recent activity</p>
                </div>
            </div>
        </div>

        <div class="tab-content" id="search">
            <div class="search-controls">
                <input type="text" class="search-input" id="searchInput" placeholder="Search lessons by title, content, or tags...">
                <select id="courseFilter" class="btn btn-secondary">
                    <option value="">All Courses</option>
                    <option value="ACCEXEC">Accounting for Executives</option>
                    <option value="APPECO">Applied Economics for Executives</option>
                    <option value="SUPPLY">Creating Value Through Supply Chain</option>
                    <option value="ENTREP">Entrepreneurship</option>
                    <option value="FINMGT">Financial Management</option>
                    <option value="LEGAL">Legal and Ethical Issues in Business</option>
                    <option value="MGCONS">Management Consulting</option>
                    <option value="MGTSTAT">Management Statistics and Data Analysis</option>
                    <option value="TECHINN">Managing Technology and Innovation</option>
                    <option value="GLOBAL">Managing the Global Business Environment</option>
                    <option value="MKTSTR">Marketing Strategy</option>
                    <option value="ORGLEAD">Organizational Behavior and Leadership</option>
                    <option value="STRATCOM">Strategic Communications</option>
                    <option value="STRATCAP">Strategic Management Capstone</option>
                </select>
                <select id="ratingFilter" class="btn btn-secondary">
                    <option value="">All Ratings</option>
                    <option value="5">Essential (5)</option>
                    <option value="4">Very Useful (4)</option>
                    <option value="3">Situational (3)</option>
                    <option value="2">Limited Use (2)</option>
                    <option value="1">Academic Only (1)</option>
                </select>
            </div>

            <div class="filter-tags">
                <div class="filter-tag" data-tag="Accounting & Finance">Accounting & Finance</div>
                <div class="filter-tag" data-tag="Economics & Quantitative Analysis">Economics & Quantitative Analysis</div>
                <div class="filter-tag" data-tag="Strategy & General Management">Strategy & General Management</div>
                <div class="filter-tag" data-tag="Leadership & Organizational Behavior">Leadership & Organizational Behavior</div>
                <div class="filter-tag" data-tag="Operations Technology & Innovation">Operations Technology & Innovation</div>
                <div class="filter-tag" data-tag="Entrepreneurship & Value Creation">Entrepreneurship & Value Creation</div>
                <div class="filter-tag" data-tag="Marketing & Customer Strategy">Marketing & Customer Strategy</div>
                <div class="filter-tag" data-tag="Legal Ethical & Governance">Legal Ethical & Governance</div>
            </div>

            <div id="searchResults"></div>
        </div>

        <div class="tab-content" id="add">
            <form id="lessonForm">
                <div class="form-section">
                    <h3>Basic Information</h3>
                    
                    <div class="form-group">
                        <label for="course">Course <span class="required">*</span></label>
                        <select id="course" required>
                            <option value="">Select Course...</option>
                            <option value="ACCEXEC">Accounting for Executives</option>
                            <option value="APPECO">Applied Economics for Executives</option>
                            <option value="SUPPLY">Creating Value Through Supply Chain</option>
                            <option value="ENTREP">Entrepreneurship</option>
                            <option value="FINMGT">Financial Management</option>
                            <option value="LEGAL">Legal and Ethical Issues in Business</option>
                            <option value="MGCONS">Management Consulting</option>
                            <option value="MGTSTAT">Management Statistics and Data Analysis</option>
                            <option value="TECHINN">Managing Technology and Innovation</option>
                            <option value="GLOBAL">Managing the Global Business Environment</option>
                            <option value="MKTSTR">Marketing Strategy</option>
                            <option value="ORGLEAD">Organizational Behavior and Leadership</option>
                            <option value="STRATCOM">Strategic Communications</option>
                            <option value="STRATCAP">Strategic Management Capstone</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="week">Week Number <span class="required">*</span></label>
                        <select id="week" required>
                            <option value="">Select Week...</option>
                            <option value="1">Week 1</option>
                            <option value="2">Week 2</option>
                            <option value="3">Week 3</option>
                            <option value="4">Week 4</option>
                            <option value="5">Week 5</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="title">Lesson Title <span class="required">*</span></label>
                        <input type="text" id="title" placeholder="e.g., Four Management Functions Framework" required>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Content Details</h3>
                    
                    <div class="form-group">
                        <label for="claudeSummary">Claude Summary <span class="required">*</span></label>
                        <textarea id="claudeSummary" placeholder="2-3 sentences focusing on practical application..." maxlength="300" required></textarea>
                        <div class="char-counter"><span id="summaryCount">0</span>/300 characters</div>
                    </div>

                    <div class="form-group">
                        <label for="keyInsights">Key Insights <span class="required">*</span></label>
                        <textarea id="keyInsights" placeholder="2-3 specific, quantified takeaways with real examples..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="sourceLinks">Source Links</label>
                        <input type="text" id="sourceLinks" placeholder="e.g., Module 1 study guide">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Classification & Rating</h3>
                    
                    <div class="form-group">
                        <label>Tags (Select all that apply)</label>
                        <div class="tags-grid">
                            <div class="tag-item">
                                <input type="checkbox" id="tag1" value="Accounting & Finance">
                                <label for="tag1">Accounting & Finance</label>
                            </div>
                            <div class="tag-item">
                                <input type="checkbox" id="tag2" value="Economics & Quantitative Analysis">
                                <label for="tag2">Economics & Quantitative Analysis</label>
                            </div>
                            <div class="tag-item">
                                <input type="checkbox" id="tag3" value="Strategy & General Management">
                                <label for="tag3">Strategy & General Management</label>
                            </div>
                            <div class="tag-item">
                                <input type="checkbox" id="tag4" value="Leadership & Organizational Behavior">
                                <label for="tag4">Leadership & Organizational Behavior</label>
                            </div>
                            <div class="tag-item">
                                <input type="checkbox" id="tag5" value="Operations Technology & Innovation">
                                <label for="tag5">Operations Technology & Innovation</label>
                            </div>
                            <div class="tag-item">
                                <input type="checkbox" id="tag6" value="Entrepreneurship & Value Creation">
                                <label for="tag6">Entrepreneurship & Value Creation</label>
                            </div>
                            <div class="tag-item">
                                <input type="checkbox" id="tag7" value="Marketing & Customer Strategy">
                                <label for="tag7">Marketing & Customer Strategy</label>
                            </div>
                            <div class="tag-item">
                                <input type="checkbox" id="tag8" value="Legal Ethical & Governance">
                                <label for="tag8">Legal Ethical & Governance</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Consulting Relevance Rating <span class="required">*</span></label>
                        <div class="rating-grid">
                            <label class="rating-option">
                                <input type="radio" name="rating" value="5" required>
                                <div>5<br><small>Essential</small></div>
                            </label>
                            <label class="rating-option">
                                <input type="radio" name="rating" value="4">
                                <div>4<br><small>Very Useful</small></div>
                            </label>
                            <label class="rating-option">
                                <input type="radio" name="rating" value="3">
                                <div>3<br><small>Situational</small></div>
                            </label>
                            <label class="rating-option">
                                <input type="radio" name="rating" value="2">
                                <div>2<br><small>Limited Use</small></div>
                            </label>
                            <label class="rating-option">
                                <input type="radio" name="rating" value="1">
                                <div>1<br><small>Academic Only</small></div>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Application Context</h3>
                    
                    <div class="form-group">
                        <label for="quickRef">Quick Reference</label>
                        <input type="text" id="quickRef" placeholder="One-line summary for quick recall..." maxlength="150">
                        <div class="char-counter"><span id="quickRefCount">0</span>/150 characters</div>
                    </div>

                    <div class="form-group">
                        <label for="clientScenarios">Client Scenarios</label>
                        <textarea id="clientScenarios" placeholder="When/where you'd use this with clients..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="limitations">Limitation Notes</label>
                        <textarea id="limitations" placeholder="When NOT to use; documented failure patterns..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="crossCourse">Cross-Course Connections</label>
                        <textarea id="crossCourse" placeholder="How this relates to other MBA concepts..."></textarea>
                    </div>
                </div>

                <div class="submit-section">
                    <button type="submit" class="btn btn-primary">Add Lesson to Repository</button>
                    <div id="statusMessage" class="status-message"></div>
                </div>
            </form>
        </div>

        <div class="tab-content" id="manage">
            <div class="export-section">
                <h3>Export Options</h3>
                <p>Download your repository data in various formats for backup, analysis, or sharing.</p>
                
                <div class="export-options">
                    <div class="export-card" onclick="exportData('csv')">
                        <div class="export-icon">ðŸ“Š</div>
                        <div class="export-title">CSV Export</div>
                        <div class="export-desc">Spreadsheet format for analysis</div>
                    </div>
                    
                    <div class="export-card" onclick="exportData('json')">
                        <div class="export-icon">ðŸ’¾</div>
                        <div class="export-title">JSON Backup</div>
                        <div class="export-desc">Complete data backup</div>
                    </div>
                    
                    <div class="export-card" onclick="exportData('study')">
                        <div class="export-icon">ðŸ“š</div>
                        <div class="export-title">Study Guide</div>
                        <div class="export-desc">Text formatted for review</div>
                    </div>
                    
                    <div class="export-card" onclick="exportData('quick')">
                        <div class="export-icon">âš¡</div>
                        <div class="export-title">Quick Reference</div>
                        <div class="export-desc">Essential frameworks only</div>
                    </div>
                </div>
            </div>

            <div class="export-section">
                <h3>Repository Management</h3>
                
                <div class="form-group">
                    <label for="importFile">Import from File</label>
                    <input type="file" id="importFile" accept=".json,application/json,text/plain" onchange="importData(this)">
                    <p style="font-size: 0.9em; color: #7f8c8d; margin-top: 5px;">Select your JSON backup file</p>
                </div>

                <div class="form-group">
                    <label for="pasteJson">Or Paste JSON Data</label>
                    <textarea id="pasteJson" placeholder="Paste your JSON backup data here..." style="min-height: 150px; font-family: monospace; font-size: 12px;"></textarea>
                    <button class="btn btn-primary" onclick="importFromPaste()" style="margin-top: 10px;">Import from Pasted Data</button>
                </div>
                
                <div style="display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                    <button class="btn btn-secondary" onclick="clearAllData()">Clear All Data</button>
                    <button class="btn btn-primary" onclick="backupData()">Create Backup</button>
                </div>
            </div>
        </div>
    </div>

    <div id="lessonModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title" id="modalTitle">Lesson Details</span>
                <button class="close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                <button class="btn btn-delete" onclick="deleteLesson()">Delete</button>
            </div>
        </div>
    </div>

    <script>
        let currentLessonId = null;

        function initializeData() {
            updateDashboard();
            renderSearchResults();
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.tab;
                    
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });

            initializeData();
            setupEventHandlers();
        });

        function setupEventHandlers() {
            const summaryInput = document.getElementById('claudeSummary');
            const quickRefInput = document.getElementById('quickRef');
            
            if (summaryInput) {
                summaryInput.addEventListener('input', function() {
                    document.getElementById('summaryCount').textContent = this.value.length;
                });
            }

            if (quickRefInput) {
                quickRefInput.addEventListener('input', function() {
                    document.getElementById('quickRefCount').textContent = this.value.length;
                });
            }

            document.querySelectorAll('.rating-option').forEach(option => {
                option.addEventListener('click', function() {
                    const grid = this.closest('.rating-grid');
                    grid.querySelectorAll('.rating-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    this.querySelector('input').checked = true;
                });
            });

            document.querySelectorAll('.tag-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    if (e.target.tagName !== 'INPUT') {
                        const checkbox = this.querySelector('input[type="checkbox"]');
                        checkbox.checked = !checkbox.checked;
                    }
                });
            });

            const searchInput = document.getElementById('searchInput');
            const courseFilter = document.getElementById('courseFilter');
            const ratingFilter = document.getElementById('ratingFilter');
            
            if (searchInput) searchInput.addEventListener('input', filterLessons);
            if (courseFilter) courseFilter.addEventListener('change', filterLessons);
            if (ratingFilter) ratingFilter.addEventListener('change', filterLessons);

            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    this.classList.toggle('active');
                    filterLessons();
                });
            });

            const form = document.getElementById('lessonForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    submitLesson();
                });
            }

            window.addEventListener('click', function(event) {
                const lessonModal = document.getElementById('lessonModal');
                if (event.target === lessonModal) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    closeModal();
                }
            });
        }

        function renderSearchResults(lessons = null) {
            if (!lessons) {
                lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
            }
            
            const resultsContainer = document.getElementById('searchResults');
            
            if (!resultsContainer) return;
            
            if (lessons.length === 0) {
                resultsContainer.innerHTML = '<div style="text-align: center; padding: 40px; color: #7f8c8d;"><h3>No lessons found</h3><p>Add your first lesson to get started.</p></div>';
                return;
            }
            
            resultsContainer.innerHTML = lessons.map(lesson => `
                <div class="lesson-card">
                    <div class="lesson-header">
                        <div>
                            <div class="lesson-title">${escapeHtml(lesson.title)}</div>
                            <div class="lesson-meta">${lesson.course} â€¢ Week ${lesson.week}</div>
                        </div>
                        <div class="lesson-rating">
                            ${'â˜…'.repeat(lesson.rating)}${'â˜†'.repeat(5 - lesson.rating)}
                        </div>
                    </div>
                    <div class="lesson-summary">${escapeHtml(lesson.claudeSummary)}</div>
                    <div class="lesson-tags">
                        ${lesson.tags.map(tag => `<span class="lesson-tag">${escapeHtml(tag)}</span>`).join('')}
                    </div>
                    <div class="lesson-actions">
                        <button class="btn btn-small btn-view" onclick="viewLesson('${lesson.id}')">View Details</button>
                        <button class="btn btn-small btn-delete" onclick="confirmDeleteLesson('${lesson.id}')">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function viewLesson(lessonId) {
            const lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
            const lesson = lessons.find(l => l.id === lessonId);
            
            if (!lesson) return;
            
            currentLessonId = lessonId;
            
            const modal = document.getElementById('lessonModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = lesson.title;
            
            modalBody.innerHTML = `
                <div class="detail-section">
                    <div class="detail-label">Course & Week</div>
                    <div class="detail-content">${escapeHtml(lesson.courseName || lesson.course)} - Week ${lesson.week}</div>
                </div>
                
                <div class="detail-section">
                    <div class="detail-label">Summary</div>
                    <div class="detail-content">${escapeHtml(lesson.claudeSummary)}</div>
                </div>
                
                <div class="detail-section">
                    <div class="detail-label">Key Insights</div>
                    <div class="detail-content">
                        <ul>
                            ${lesson.keyInsights.split('\n').filter(insight => insight.trim()).map(insight => 
                                `<li>${escapeHtml(insight)}</li>`
                            ).join('')}
                        </ul>
                    </div>
                </div>
                
                ${lesson.quickRef ? `
                <div class="detail-section">
                    <div class="detail-label">Quick Reference</div>
                    <div class="detail-content">${escapeHtml(lesson.quickRef)}</div>
                </div>` : ''}
                
                ${lesson.clientScenarios ? `
                <div class="detail-section">
                    <div class="detail-label">Client Scenarios</div>
                    <div class="detail-content">${escapeHtml(lesson.clientScenarios)}</div>
                </div>` : ''}
                
                ${lesson.limitations ? `
                <div class="detail-section">
                    <div class="detail-label">Limitations</div>
                    <div class="detail-content">${escapeHtml(lesson.limitations)}</div>
                </div>` : ''}
                
                ${lesson.crossCourse ? `
                <div class="detail-section">
                    <div class="detail-label">Cross-Course Connections</div>
                    <div class="detail-content">${escapeHtml(lesson.crossCourse)}</div>
                </div>` : ''}
                
                ${lesson.sourceLinks ? `
                <div class="detail-section">
                    <div class="detail-label">Source Links</div>
                    <div class="detail-content">${escapeHtml(lesson.sourceLinks)}</div>
                </div>` : ''}
                
                <div class="detail-section">
                    <div class="detail-label">Tags</div>
                    <div class="detail-content">
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            ${lesson.tags.map(tag => `<span class="lesson-tag">${escapeHtml(tag)}</span>`).join('')}
                        </div>
                    </div>
                </div>
                
                <div class="detail-section">
                    <div class="detail-label">Consulting Rating</div>
                    <div class="detail-content">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 1.5em;">${'â˜…'.repeat(lesson.rating)}${'â˜†'.repeat(5 - lesson.rating)}</span>
                            <span>(${lesson.rating}/5 - ${getRatingLabel(lesson.rating)})</span>
                        </div>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function getRatingLabel(rating) {
            const labels = {
                5: 'Essential',
                4: 'Very Useful',
                3: 'Situational',
                2: 'Limited Use',
                1: 'Academic Only'
            };
            return labels[rating] || 'Unknown';
        }

        function closeModal() {
            document.getElementById('lessonModal').style.display = 'none';
            currentLessonId = null;
        }

        function deleteLesson() {
            confirmDeleteLesson(currentLessonId);
        }

        function confirmDeleteLesson(lessonId) {
            if (confirm('Are you sure you want to delete this lesson? This action cannot be undone.')) {
                const lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
                const filteredLessons = lessons.filter(lesson => lesson.id !== lessonId);
                localStorage.setItem('mba_lessons', JSON.stringify(filteredLessons));
                
                closeModal();
                updateDashboard();
                renderSearchResults();
            }
        }

        function filterLessons() {
            const searchInput = document.getElementById('searchInput');
            const courseFilter = document.getElementById('courseFilter');
            const ratingFilter = document.getElementById('ratingFilter');
            
            const searchTerm = searchInput ? searchInput.value.toLowerCase() : '';
            const courseFilterValue = courseFilter ? courseFilter.value : '';
            const ratingFilterValue = ratingFilter ? ratingFilter.value : '';
            const activeTags = Array.from(document.querySelectorAll('.filter-tag.active')).map(tag => tag.dataset.tag);
            
            const lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
            
            const filtered = lessons.filter(lesson => {
                const matchesSearch = !searchTerm || 
                    lesson.title.toLowerCase().includes(searchTerm) ||
                    lesson.claudeSummary.toLowerCase().includes(searchTerm) ||
                    lesson.keyInsights.toLowerCase().includes(searchTerm);
                
                const matchesCourse = !courseFilterValue || lesson.course === courseFilterValue;
                const matchesRating = !ratingFilterValue || lesson.rating.toString() === ratingFilterValue;
                const matchesTags = activeTags.length === 0 || activeTags.some(tag => lesson.tags.includes(tag));
                
                return matchesSearch && matchesCourse && matchesRating && matchesTags;
            });
            
            renderSearchResults(filtered);
        }

        function submitLesson() {
            const formData = collectFormData();
            
            if (!validateForm(formData)) {
                return;
            }

            showStatus('Processing...', 'info');
            
            setTimeout(() => {
                try {
                    saveLesson(formData);
                    showStatus('Lesson added successfully!', 'success');
                    resetForm();
                    updateDashboard();
                    renderSearchResults();
                } catch (error) {
                    showStatus('Error saving lesson: ' + error.message, 'error');
                }
            }, 500);
        }

        function collectFormData() {
            const tags = Array.from(document.querySelectorAll('#add input[type="checkbox"]:checked'))
                .map(cb => cb.value);
            
            const rating = document.querySelector('#add input[name="rating"]:checked')?.value;
            const courseCode = document.getElementById('course').value;
            
            const courseNames = {
                'ACCEXEC': 'Accounting for Executives',
                'APPECO': 'Applied Economics for Executives',
                'SUPPLY': 'Creating Value Through Supply Chain',
                'ENTREP': 'Entrepreneurship',
                'FINMGT': 'Financial Management',
                'LEGAL': 'Legal and Ethical Issues in Business',
                'MGCONS': 'Management Consulting',
                'MGTSTAT': 'Management Statistics and Data Analysis',
                'TECHINN': 'Managing Technology and Innovation',
                'GLOBAL': 'Managing the Global Business Environment',
                'MKTSTR': 'Marketing Strategy',
                'ORGLEAD': 'Organizational Behavior and Leadership',
                'STRATCOM': 'Strategic Communications',
                'STRATCAP': 'Strategic Management Capstone'
            };

            return {
                course: courseCode,
                courseName: courseNames[courseCode] || courseCode,
                week: parseInt(document.getElementById('week').value),
                title: document.getElementById('title').value,
                claudeSummary: document.getElementById('claudeSummary').value,
                keyInsights: document.getElementById('keyInsights').value,
                sourceLinks: document.getElementById('sourceLinks').value,
                tags: tags,
                rating: parseInt(rating),
                quickRef: document.getElementById('quickRef').value,
                clientScenarios: document.getElementById('clientScenarios').value,
                limitations: document.getElementById('limitations').value,
                crossCourse: document.getElementById('crossCourse').value
            };
        }

        function validateForm(data) {
            if (!data.course || !data.week || !data.title || !data.claudeSummary || !data.rating) {
                showStatus('Please fill in all required fields.', 'error');
                return false;
            }
            return true;
        }

        function saveLesson(data) {
            const lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
            const newLesson = {
                id: 'L' + String(lessons.length + 1).padStart(3, '0'),
                ...data,
                dateAdded: new Date().toISOString()
            };
            lessons.push(newLesson);
            localStorage.setItem('mba_lessons', JSON.stringify(lessons));
        }

        function showStatus(message, type) {
            const statusEl = document.getElementById('statusMessage');
            if (statusEl) {
                statusEl.textContent = message;
                statusEl.className = `status-message status-${type}`;
                statusEl.style.display = 'block';
                
                if (type === 'success') {
                    setTimeout(() => {
                        statusEl.style.display = 'none';
                    }, 3000);
                }
            }
        }

        function resetForm() {
            const form = document.getElementById('lessonForm');
            if (form) {
                form.reset();
                document.querySelectorAll('#add .rating-option').forEach(opt => opt.classList.remove('selected'));
                document.getElementById('summaryCount').textContent = '0';
                document.getElementById('quickRefCount').textContent = '0';
            }
        }

        function updateDashboard() {
            const lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
            
            document.getElementById('totalLessons').textContent = lessons.length;
            
            const thisWeek = lessons.filter(l => {
                const lessonDate = new Date(l.dateAdded);
                const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);
                return lessonDate >= weekAgo;
            }).length;
            document.getElementById('thisWeek').textContent = thisWeek;
            
            const avgRating = lessons.length > 0 
                ? (lessons.reduce((sum, l) => sum + l.rating, 0) / lessons.length).toFixed(1)
                : '0';
            document.getElementById('avgRating').textContent = avgRating;
            
            const activeCourses = new Set(lessons.map(l => l.course)).size;
            document.getElementById('activeCourses').textContent = activeCourses;
            
            const recentList = document.getElementById('recentActivityList');
            if (recentList) {
                const recent = lessons.slice(-5).reverse();
                if (recent.length === 0) {
                    recentList.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 20px;">No recent activity</p>';
                } else {
                    recentList.innerHTML = recent.map(lesson => `
                        <div class="activity-item">
                            <div class="activity-title">${escapeHtml(lesson.title)}</div>
                            <div class="activity-meta">${lesson.course} â€¢ Rating: ${lesson.rating} â€¢ Week ${lesson.week}</div>
                        </div>
                    `).join('');
                }
            }
        }

        function exportData(format) {
            const lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
            
            if (lessons.length === 0) {
                alert('No lessons to export. Add some lessons first!');
                return;
            }
            
            switch(format) {
                case 'csv':
                    exportCSV(lessons);
                    break;
                case 'json':
                    exportJSON(lessons);
                    break;
                case 'study':
                    exportStudyGuide(lessons);
                    break;
                case 'quick':
                    exportQuickReference(lessons);
                    break;
            }
        }

        function exportCSV(lessons) {
            const headers = ['ID', 'Course', 'Week', 'Title', 'Rating', 'Tags', 'Summary'];
            const csvContent = [
                headers.join(','),
                ...lessons.map(lesson => [
                    lesson.id,
                    lesson.course,
                    lesson.week,
                    `"${lesson.title.replace(/"/g, '""')}"`,
                    lesson.rating,
                    `"${lesson.tags.join(';')}"`,
                    `"${lesson.claudeSummary.replace(/"/g, '""')}"`
                ].join(','))
            ].join('\n');
            
            downloadFile(csvContent, 'mba-repository.csv', 'text/csv');
        }

        function exportJSON(lessons) {
            const jsonContent = JSON.stringify(lessons, null, 2);
            downloadFile(jsonContent, 'mba-repository.json', 'application/json');
        }

        function exportStudyGuide(lessons) {
            const content = `MBA Knowledge Repository - Study Guide

Generated: ${new Date().toLocaleDateString()}
Total Lessons: ${lessons.length}

${lessons.map(lesson => `
${'='.repeat(80)}
${lesson.title}
${'='.repeat(80)}

Course: ${lesson.courseName || lesson.course} | Week ${lesson.week} | Rating: ${'â˜…'.repeat(lesson.rating)}${'â˜†'.repeat(5 - lesson.rating)}

Summary:
${lesson.claudeSummary}

Key Insights:
${lesson.keyInsights}

${lesson.quickRef ? `Quick Reference:\n${lesson.quickRef}\n` : ''}
${lesson.clientScenarios ? `Client Scenarios:\n${lesson.clientScenarios}\n` : ''}
${lesson.limitations ? `Limitations:\n${lesson.limitations}\n` : ''}
${lesson.crossCourse ? `Cross-Course Connections:\n${lesson.crossCourse}\n` : ''}

`).join('')}`;
            downloadFile(content, 'mba-study-guide.txt', 'text/plain');
        }

        function exportQuickReference(lessons) {
            const essential = lessons.filter(l => l.rating >= 4);
            const content = `MBA Quick Reference - Essential Frameworks

Generated: ${new Date().toLocaleDateString()}
High-Value Lessons (Rating 4-5): ${essential.length}

${essential.map(lesson => `
${lesson.title} (Rating: ${lesson.rating})
${lesson.quickRef || lesson.claudeSummary}
${lesson.clientScenarios ? `Use when: ${lesson.clientScenarios}` : ''}

`).join('')}`;
            downloadFile(content, 'mba-quick-reference.txt', 'text/plain');
        }

        function downloadFile(content, filename, mimeType) {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function importData(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    if (Array.isArray(data)) {
                        localStorage.setItem('mba_lessons', JSON.stringify(data));
                        updateDashboard();
                        renderSearchResults();
                        alert('Data imported successfully! ' + data.length + ' lessons loaded.');
                        input.value = '';
                    } else {
                        alert('Invalid data format. Please select a valid JSON backup file.');
                    }
                } catch (error) {
                    alert('Error importing data: ' + error.message);
                }
            };
            reader.readAsText(file);
        }

        function importFromPaste() {
            const pasteArea = document.getElementById('pasteJson');
            const jsonText = pasteArea.value.trim();
            
            if (!jsonText) {
                alert('Please paste JSON data first.');
                return;
            }
            
            try {
                const data = JSON.parse(jsonText);
                if (Array.isArray(data)) {
                    localStorage.setItem('mba_lessons', JSON.stringify(data));
                    updateDashboard();
                    renderSearchResults();
                    alert('Data imported successfully! ' + data.length + ' lessons loaded.');
                    pasteArea.value = '';
                } else {
                    alert('Invalid data format. Please paste valid JSON backup data.');
                }
            } catch (error) {
                alert('Error parsing JSON: ' + error.message);
            }
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear all data? This cannot be undone.')) {
                localStorage.removeItem('mba_lessons');
                updateDashboard();
                renderSearchResults();
                alert('All data cleared.');
            }
        }

        function backupData() {
            const lessons = JSON.parse(localStorage.getItem('mba_lessons') || '[]');
            if (lessons.length === 0) {
                alert('No data to backup. Add some lessons first!');
                return;
            }
            exportJSON(lessons);
        }
    </script>
</body>
</html>
